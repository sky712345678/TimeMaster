<!DOCTYPE html>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<html>
    <title>(Learning) Study Visualization</title>
    <body>
        <div>
            <h1 id="title">Please choose which you want to check</h1>

            <form method="post" id="study">
                Course Number:<select name="courseNumber" form="study">
                            <option value="{{courses[0].CourseNumber}}" selected>{{courses[0].CourseNumber}} - {{courses[0].CourseName}}</option>
                            {% for c in courses[1:] %}
                                <option value="{{c.CourseNumber}}">{{c.CourseNumber}} - {{c.CourseName}}</option>
                            {% endfor %}
                        </select>
                <button type="submit">Submit</button>
            </form>
            {% if date != None %}
            <canvas id='myChart'></canvas>
            {% endif %}
        </div>
    </body>
    <script>
        const time = {{time}};
        const label = {{date|tojson}};
        const data = {
            labels: label,
            datasets: [{
                label: 'Learning Curve',
                backgroundColor: 'rgb(255, 99, 132)',
                borderColor: 'rgb(255, 99, 132)',
                data: time,}]
        };

        const config = {
            type: 'line',
            data: data,
            options: {
            scales: {
                x: {
                    ticks: {
                        // Include a dollar sign in the ticks
                        callback: function(val, index) {
                            // Hide the label of every 2nd dataset
                            return index % 15 === 0 ? this.getLabelForValue(val) : '';
                        },
                        color: 'black',
                    }
                }
            }
            }
        };

        var myChart = new Chart(
            document.getElementById('myChart'),
            config,
        );

    </script>

</html>